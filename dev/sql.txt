CREATE TABLE Users(
    id INT AUTO_INCREMENT,
    name VARCHAR(255),
    age INT,
    PRIMARY KEY(id)
);

INSERT INTO Users(name, age) VALUES('Krishna', 21);
INSERT INTO Users(name, age) VALUES('Dinesh', 23);
INSERT INTO Users(name, age) VALUES('Kulakshi', 22);
INSERT INTO Users(name, age) VALUES('Kalana', 22);

Authentication System(Krishna)

-- Create main users table
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(20) NOT NULL,
    password VARCHAR(255) NOT NULL,
    role ENUM('customer', 'stadium_owner', 'coach', 'rental_owner') NOT NULL,
    status ENUM('pending', 'active', 'inactive', 'suspended') DEFAULT 'pending',
    email_verified BOOLEAN DEFAULT FALSE,
    email_verification_token VARCHAR(255) NULL,
    reset_password_token VARCHAR(255) NULL,
    reset_password_expires DATETIME NULL,
    last_login DATETIME NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Create customer profiles table
CREATE TABLE customer_profiles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    district VARCHAR(100) NOT NULL,
    sports VARCHAR(100) NOT NULL,
    age_group ENUM('under_18', '18_25', '26_35', 'above_35') NOT NULL,
    skill_level ENUM('beginner', 'intermediate', 'advanced', 'professional') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

-- Create stadium owner profiles table
CREATE TABLE stadium_owner_profiles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    owner_name VARCHAR(255) NOT NULL,
    business_name VARCHAR(255) NOT NULL,
    district VARCHAR(100) NOT NULL,
    venue_type ENUM('stadium', 'indoor_court', 'outdoor_court', 'sports_complex', 'practice_nets') NOT NULL,
    business_registration VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

-- Create coach profiles table
CREATE TABLE coach_profiles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    specialization VARCHAR(100) NOT NULL,
    experience ENUM('1_3', '4_6', '7_10', '10_plus') NOT NULL,
    certification ENUM('basic', 'intermediate', 'advanced', 'professional') NOT NULL,
    coaching_type ENUM('individual', 'group', 'both') NOT NULL,
    district VARCHAR(100) NOT NULL,
    availability ENUM('full_time', 'part_time', 'weekends') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

-- Create rental owner profiles table
CREATE TABLE rental_owner_profiles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    owner_name VARCHAR(255) NOT NULL,
    business_name VARCHAR(255) NOT NULL,
    district VARCHAR(100) NOT NULL,
    business_type VARCHAR(100) NOT NULL,
    equipment_categories VARCHAR(255) NOT NULL,
    delivery_service ENUM('yes', 'no') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

-- Create admins table (separate from users)
CREATE TABLE admins (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    full_name VARCHAR(255) NOT NULL,
    status ENUM('active', 'inactive') DEFAULT 'active',
    last_login DATETIME NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Create login attempts table for security
CREATE TABLE login_attempts (
    id INT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(255) NOT NULL,
    ip_address VARCHAR(45) NOT NULL,
    attempted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_email_time (email, attempted_at)
);

-- Insert default admin account
INSERT INTO admins (username, password, email, full_name) VALUES 
('admin', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'admin@bookmyground.lk', 'System Administrator');


DROP TABLE IF EXISTS admins;

CREATE TABLE admins (
    id INT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    full_name VARCHAR(255) NOT NULL,
    role VARCHAR(50) DEFAULT 'admin',
    status ENUM('active', 'inactive') DEFAULT 'active',
    last_login DATETIME NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

INSERT INTO admins (email, password, full_name, role) VALUES 
('admin@bookmyground.lk', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'System Administrator', 'admin');


-- Add password reset columns to admins table if they don't exist
ALTER TABLE admins 
ADD COLUMN reset_password_token VARCHAR(255) NULL AFTER password,
ADD COLUMN reset_password_expires DATETIME NULL AFTER reset_password_token;



For Stadiums Fetching From Database
-- Create stadiums table
CREATE TABLE stadiums (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    type VARCHAR(100) NOT NULL,
    category ENUM('Indoor', 'Outdoor') NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    location VARCHAR(255) NOT NULL,
    rating DECIMAL(2, 1) DEFAULT 0.0,
    image VARCHAR(255) NOT NULL,
    status ENUM('Available', 'Booked', 'Maintenance') DEFAULT 'Available',
    owner VARCHAR(255) NOT NULL,
    owner_status ENUM('Online', 'Away', 'Offline') DEFAULT 'Offline',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Create stadium features table
CREATE TABLE stadium_features (
    id INT AUTO_INCREMENT PRIMARY KEY,
    stadium_id INT NOT NULL,
    feature_name VARCHAR(100) NOT NULL,
    FOREIGN KEY (stadium_id) REFERENCES stadiums(id) ON DELETE CASCADE
);


-- Insert stadiums
INSERT INTO stadiums (name, type, category, price, location, rating, image, status, owner, owner_status) VALUES
('Colombo Cricket Ground', 'Cricket', 'Outdoor', 5000, 'Colombo 03', 4.8, 'cricket-ground.jpg', 'Available', 'Rajesh Kumar', 'Online'),
('Indoor Sports Complex', 'Multi-Sport', 'Indoor', 3500, 'Colombo 07', 4.6, 'indoor-complex.jpg', 'Available', 'Samantha Silva', 'Away'),
('Football Arena Pro', 'Football', 'Outdoor', 7500, 'Colombo 05', 4.9, 'football-arena.jpg', 'Booked', 'David Fernando', 'Online'),
('Tennis Academy Courts', 'Tennis', 'Outdoor', 2500, 'Colombo 06', 4.4, 'tennis-courts.jpg', 'Available', 'Michelle Perera', 'Online'),
('Basketball Hub Angoda', 'Basketball', 'Indoor', 4000, 'Angoda', 4.7, 'basketball-court.jpg', 'Available', 'Kevin Rodrigo', 'Online'),
('Swimming Pool Complex', 'Swimming', 'Outdoor', 6000, 'Mount Lavinia', 4.5, 'swimming-pool.jpg', 'Available', 'Sarah Johnson', 'Away');

-- Insert features for stadium 1 (Colombo Cricket Ground)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(1, 'Lighting'), (1, 'Parking'), (1, 'WiFi'), (1, 'Extra Feature');

-- Insert features for stadium 2 (Indoor Sports Complex)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(2, 'Air Conditioning'), (2, 'Parking'), (2, 'WiFi');

-- Insert features for stadium 3 (Football Arena Pro)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(3, 'Professional Turf'), (3, 'Lighting'), (3, 'Parking'), (3, 'Extra Feature');

-- Insert features for stadium 4 (Tennis Academy Courts)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(4, 'Clay Courts'), (4, 'Lighting'), (4, 'Equipment Rental'), (4, 'Extra 1'), (4, 'Extra 2');

-- Insert features for stadium 5 (Basketball Hub Angoda)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(5, 'Professional Court'), (5, 'Sound System'), (5, 'Seating');

-- Insert features for stadium 6 (Swimming Pool Complex)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(6, 'Olympic Size'), (6, 'Changing Rooms'), (6, 'Lifeguard'), (6, 'Extra 1'), (6, 'Extra 2'), (6, 'Extra 3');

Add New Listings
-- Insert 6 more stadiums in Colombo
INSERT INTO stadiums (name, type, category, price, location, rating, image, status, owner, owner_status) VALUES
('Colombo Badminton Center', 'Badminton', 'Indoor', 2800, 'Colombo 04', 4.6, 'badminton-center.jpg', 'Available', 'Nimal Jayasinghe', 'Online'),
('Premier Squash Courts', 'Squash', 'Indoor', 3200, 'Colombo 03', 4.7, 'squash-courts.jpg', 'Available', 'Anura Perera', 'Online'),
('Colombo Rugby Stadium', 'Rugby', 'Outdoor', 8500, 'Colombo 07', 4.9, 'rugby-stadium.jpg', 'Available', 'Mahesh Gunasekara', 'Away'),
('Table Tennis Academy', 'Table Tennis', 'Indoor', 1500, 'Colombo 08', 4.3, 'table-tennis.jpg', 'Available', 'Champika Silva', 'Online'),
('Volleyball Sports Complex', 'Volleyball', 'Outdoor', 3800, 'Colombo 05', 4.5, 'volleyball-complex.jpg', 'Booked', 'Ruwan Fernando', 'Offline'),
('Hockey Practice Ground', 'Hockey', 'Outdoor', 4500, 'Colombo 06', 4.4, 'hockey-ground.jpg', 'Available', 'Sandun Wickramasinghe', 'Online');

-- Insert features for stadium 7 (Colombo Badminton Center)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(7, 'Wooden Floor'), (7, 'Air Conditioning'), (7, 'Equipment Rental'), (7, 'Locker Rooms');

-- Insert features for stadium 8 (Premier Squash Courts)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(8, 'Glass Courts'), (8, 'Air Conditioning'), (8, 'Shower Facilities'), (8, 'Pro Shop'), (8, 'Parking');

-- Insert features for stadium 9 (Colombo Rugby Stadium)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(9, 'Natural Grass'), (9, 'Seating for 500'), (9, 'Floodlights'), (9, 'Parking');

-- Insert features for stadium 10 (Table Tennis Academy)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(10, '8 Tables'), (10, 'Air Conditioning'), (10, 'Coaching Available');

-- Insert features for stadium 11 (Volleyball Sports Complex)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(11, 'Sand Court'), (11, 'Beach Style'), (11, 'Lighting'), (11, 'Parking'), (11, 'Cafeteria'), (11, 'WiFi');

-- Insert features for stadium 12 (Hockey Practice Ground)
INSERT INTO stadium_features (stadium_id, feature_name) VALUES
(12, 'Astro Turf'), (12, 'Lighting'), (12, 'Equipment Storage'), (12, 'Parking'), (12, 'Changing Rooms');


Add Featured column
-- Add is_featured column to stadiums table
ALTER TABLE stadiums 
ADD COLUMN is_featured BOOLEAN DEFAULT FALSE AFTER owner_status;

-- Mark 6 stadiums as featured
UPDATE stadiums SET is_featured = TRUE WHERE id IN (1, 3, 5, 7, 9, 11);

-- Or if you want specific ones, update individually:
-- UPDATE stadiums SET is_featured = TRUE WHERE id = 1;  -- Colombo Cricket Ground
-- UPDATE stadiums SET is_featured = TRUE WHERE id = 3;  -- Football Arena Pro
-- UPDATE stadiums SET is_featured = TRUE WHERE id = 5;  -- Basketball Hub Angoda
-- UPDATE stadiums SET is_featured = TRUE WHERE id = 7;  -- Colombo Badminton Center
-- UPDATE stadiums SET is_featured = TRUE WHERE id = 9;  -- Colombo Rugby Stadium
-- UPDATE stadiums SET is_featured = TRUE WHERE id = 11; -- Volleyball Sports Complex



Rental Service Listings
-- Create rental_shops table
CREATE TABLE rental_shops (
    id INT AUTO_INCREMENT PRIMARY KEY,
    store_name VARCHAR(255) NOT NULL,
    category VARCHAR(100) NOT NULL,
    location VARCHAR(255) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    whatsapp VARCHAR(20) NOT NULL,
    email VARCHAR(255) NOT NULL,
    address TEXT NOT NULL,
    rating DECIMAL(2, 1) DEFAULT 0.0,
    image VARCHAR(255) NOT NULL,
    status ENUM('Open', 'Closed') DEFAULT 'Open',
    owner VARCHAR(255) NOT NULL,
    owner_status ENUM('Online', 'Away', 'Offline') DEFAULT 'Offline',
    description TEXT,
    hours VARCHAR(255),
    delivery BOOLEAN DEFAULT FALSE,
    experience VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Create rental_equipment_types table
CREATE TABLE rental_equipment_types (
    id INT AUTO_INCREMENT PRIMARY KEY,
    rental_id INT NOT NULL,
    equipment_type VARCHAR(100) NOT NULL,
    FOREIGN KEY (rental_id) REFERENCES rental_shops(id) ON DELETE CASCADE
);

-- Create rental_features table
CREATE TABLE rental_features (
    id INT AUTO_INCREMENT PRIMARY KEY,
    rental_id INT NOT NULL,
    feature_name VARCHAR(100) NOT NULL,
    FOREIGN KEY (rental_id) REFERENCES rental_shops(id) ON DELETE CASCADE
);


Add Data
-- Insert rental shops
INSERT INTO rental_shops (store_name, category, location, phone, whatsapp, email, address, rating, image, status, owner, owner_status, description, hours, delivery, experience) VALUES
('Pro Sports Gear', 'Multi-Sport', 'Colombo 03', '+94 71 234 5678', '+94 71 234 5678', 'contact@prosportsgear.lk', '123 Galle Road, Colombo 03', 4.8, 'pro-sports-gear.jpg', 'Open', 'Kulassi Thathsarani', 'Online', 'Complete sports equipment rental service with premium quality gear for all sports.', 'Mon-Sun: 8:00 AM - 8:00 PM', TRUE, '10+ years'),
('Cricket Zone Rentals', 'Cricket', 'Colombo 07', '+94 77 345 6789', '+94 77 345 6789', 'info@cricketzone.lk', '456 Duplication Road, Colombo 07', 4.6, 'cricket-zone.jpg', 'Open', 'Sunil Fernando', 'Online', 'Specialized cricket equipment rental with professional grade gear.', 'Mon-Sat: 9:00 AM - 7:00 PM', TRUE, '8+ years'),
('Football Gear Hub', 'Football', 'Dehiwala', '+94 70 456 7890', '+94 70 456 7890', 'hello@footballgearhub.lk', '789 Galle Road, Dehiwala', 4.9, 'football-gear.jpg', 'Open', 'Dinesh Silva', 'Away', 'Premium football equipment rental for players and teams.', 'Mon-Sun: 7:00 AM - 9:00 PM', TRUE, '12+ years'),
('Tennis Pro Rentals', 'Tennis', 'Mount Lavinia', '+94 76 567 8901', '+94 76 567 8901', 'rentals@tennispro.lk', '321 Hotel Road, Mount Lavinia', 4.7, 'tennis-pro.jpg', 'Open', 'Priya Rajapaksa', 'Online', 'High-quality tennis equipment rental with expert guidance.', 'Tue-Sun: 8:00 AM - 6:00 PM', FALSE, '6+ years'),
('All Sports Equipment', 'Multi-Sport', 'Nugegoda', '+94 75 678 9012', '+94 75 678 9012', 'info@allsportsequipment.lk', '654 High Level Road, Nugegoda', 4.5, 'all-sports.jpg', 'Closed', 'Nimal Wickramasinghe', 'Offline', 'Wide range of sports equipment for rent at competitive prices.', 'Mon-Sat: 9:00 AM - 6:00 PM', TRUE, '15+ years'),
('Basketball Gear Store', 'Basketball', 'Colombo 05', '+94 74 789 0123', '+94 74 789 0123', 'contact@basketballgear.lk', '987 Baseline Road, Colombo 05', 4.4, 'basketball-gear.jpg', 'Open', 'Kalana Ekanayaka Max', 'Online', 'Complete basketball equipment rental for players and teams.', 'Mon-Sun: 10:00 AM - 8:00 PM', TRUE, '5+ years');

-- Insert equipment types for rental shop 1 (Pro Sports Gear)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(1, 'Cricket'), (1, 'Football'), (1, 'Tennis'), (1, 'Basketball');

-- Insert features for rental shop 1
INSERT INTO rental_features (rental_id, feature_name) VALUES
(1, 'Home Delivery'), (1, 'Quality Guarantee'), (1, 'Online Booking');

-- Insert equipment types for rental shop 2 (Cricket Zone Rentals)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(2, 'Cricket');

-- Insert features for rental shop 2
INSERT INTO rental_features (rental_id, feature_name) VALUES
(2, 'Expert Advice'), (2, 'Equipment Maintenance'), (2, 'Bulk Discounts');

-- Insert equipment types for rental shop 3 (Football Gear Hub)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(3, 'Football');

-- Insert features for rental shop 3
INSERT INTO rental_features (rental_id, feature_name) VALUES
(3, 'Team Packages'), (3, 'Goalkeeper Gear'), (3, 'Size Fitting');

-- Insert equipment types for rental shop 4 (Tennis Pro Rentals)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(4, 'Tennis');

-- Insert features for rental shop 4
INSERT INTO rental_features (rental_id, feature_name) VALUES
(4, 'Racket Stringing'), (4, 'Professional Advice'), (4, 'Tournament Gear');

-- Insert equipment types for rental shop 5 (All Sports Equipment)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(5, 'Cricket'), (5, 'Football'), (5, 'Tennis'), (5, 'Basketball'), (5, 'Badminton');

-- Insert features for rental shop 5
INSERT INTO rental_features (rental_id, feature_name) VALUES
(5, 'Affordable Rates'), (5, 'Student Discounts'), (5, 'Equipment Insurance');

-- Insert equipment types for rental shop 6 (Basketball Gear Store)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(6, 'Basketball');

-- Insert features for rental shop 6
INSERT INTO rental_features (rental_id, feature_name) VALUES
(6, 'Professional Shoes'), (6, 'Team Uniforms'), (6, 'Training Equipment');


-- Insert 6 more rental shops
INSERT INTO rental_shops (store_name, category, location, phone, whatsapp, email, address, rating, image, status, owner, owner_status, description, hours, delivery, experience) VALUES
('Badminton Pro Shop', 'Badminton', 'Colombo 04', '+94 72 890 1234', '+94 72 890 1234', 'info@badmintonproshop.lk', '147 Duplication Road, Colombo 04', 4.8, 'badminton-pro.jpg', 'Open', 'Amila Jayawardena', 'Online', 'Specialized badminton equipment with professional grade rackets and shuttlecocks.', 'Mon-Sun: 9:00 AM - 7:00 PM', TRUE, '9+ years'),
('Swimming Gear Paradise', 'Swimming', 'Wellawatte', '+94 71 901 2345', '+94 71 901 2345', 'contact@swimgearparadise.lk', '258 Galle Road, Wellawatte', 4.5, 'swimming-gear.jpg', 'Open', 'Chaminda Perera', 'Away', 'Complete swimming equipment rental including goggles, fins, and training aids.', 'Tue-Sun: 8:00 AM - 6:00 PM', FALSE, '7+ years'),
('Rugby Equipment Center', 'Rugby', 'Colombo 07', '+94 77 012 3456', '+94 77 012 3456', 'rentals@rugbyequipment.lk', '369 Reid Avenue, Colombo 07', 4.6, 'rugby-equipment.jpg', 'Open', 'Roshan De Silva', 'Online', 'Professional rugby gear for players and teams including protective equipment.', 'Mon-Sat: 8:00 AM - 8:00 PM', TRUE, '11+ years'),
('Volleyball Essentials', 'Volleyball', 'Dehiwala', '+94 76 123 4567', '+94 76 123 4567', 'hello@volleyballessentials.lk', '741 Station Road, Dehiwala', 4.7, 'volleyball-essentials.jpg', 'Open', 'Sanduni Fernando', 'Online', 'Quality volleyball equipment for beach and indoor courts with net systems.', 'Mon-Sun: 7:00 AM - 9:00 PM', TRUE, '8+ years'),
('Athletic Track Rentals', 'Athletics', 'Nugegoda', '+94 75 234 5678', '+94 75 234 5678', 'info@athletictrack.lk', '852 High Level Road, Nugegoda', 4.4, 'athletic-track.jpg', 'Open', 'Kasun Bandara', 'Away', 'Track and field equipment including spikes, javelins, and training gear.', 'Mon-Fri: 9:00 AM - 6:00 PM', FALSE, '6+ years'),
('Hockey Gear Station', 'Hockey', 'Mount Lavinia', '+94 74 345 6789', '+94 74 345 6789', 'support@hockeygearstation.lk', '963 Beach Road, Mount Lavinia', 4.9, 'hockey-gear.jpg', 'Open', 'Tharaka Wijesinghe', 'Online', 'Complete hockey equipment rental with sticks, protective gear, and balls.', 'Mon-Sun: 8:00 AM - 7:00 PM', TRUE, '13+ years');

-- Insert equipment types for rental shop 7 (Badminton Pro Shop)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(7, 'Badminton');

-- Insert features for rental shop 7
INSERT INTO rental_features (rental_id, feature_name) VALUES
(7, 'Professional Rackets'), (7, 'Stringing Service'), (7, 'Tournament Quality');

-- Insert equipment types for rental shop 8 (Swimming Gear Paradise)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(8, 'Swimming');

-- Insert features for rental shop 8
INSERT INTO rental_features (rental_id, feature_name) VALUES
(8, 'Prescription Goggles'), (8, 'Training Equipment'), (8, 'Size Fitting');

-- Insert equipment types for rental shop 9 (Rugby Equipment Center)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(9, 'Rugby');

-- Insert features for rental shop 9
INSERT INTO rental_features (rental_id, feature_name) VALUES
(9, 'Protective Gear'), (9, 'Team Packages'), (9, 'Custom Fitting'), (9, 'Equipment Insurance');

-- Insert equipment types for rental shop 10 (Volleyball Essentials)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(10, 'Volleyball');

-- Insert features for rental shop 10
INSERT INTO rental_features (rental_id, feature_name) VALUES
(10, 'Net Systems'), (10, 'Beach Volleyball'), (10, 'Indoor Equipment'), (10, 'Bulk Discounts');

-- Insert equipment types for rental shop 11 (Athletic Track Rentals)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(11, 'Athletics');

-- Insert features for rental shop 11
INSERT INTO rental_features (rental_id, feature_name) VALUES
(11, 'Track Spikes'), (11, 'Field Equipment'), (11, 'Training Tools');

-- Insert equipment types for rental shop 12 (Hockey Gear Station)
INSERT INTO rental_equipment_types (rental_id, equipment_type) VALUES
(12, 'Hockey');

-- Insert features for rental shop 12
INSERT INTO rental_features (rental_id, feature_name) VALUES
(12, 'Professional Sticks'), (12, 'Protective Gear'), (12, 'Equipment Maintenance'), (12, 'Team Discounts'), (12, 'Free Delivery');




customer login_attempts-- Add test customers to the database
-- Password for all test customers is: customer123

-- Insert test customer 1
INSERT INTO users (first_name, last_name, email, phone, password, role, status, created_at) VALUES 
('Krishna', 'Wishvajith', 'customer@test.com', '+94 71 234 5678', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'customer', 'active', NOW());

-- Get the user ID for customer profile (assuming it's 1, adjust if needed)
INSERT INTO customer_profiles (user_id, district, sports, age_group, skill_level, created_at) VALUES 
(LAST_INSERT_ID(), 'Colombo', 'football', '18_25', 'intermediate', NOW());

-- Insert test customer 2
INSERT INTO users (first_name, last_name, email, phone, password, role, status, created_at) VALUES 
('Kulakshi', 'Thathsarani', 'kulakshi@test.com', '+94 77 345 6789', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'customer', 'active', NOW());

INSERT INTO customer_profiles (user_id, district, sports, age_group, skill_level, created_at) VALUES 
(LAST_INSERT_ID(), 'Kandy', 'tennis', '18_25', 'advanced', NOW());

-- Insert test customer 3  
INSERT INTO users (first_name, last_name, email, phone, password, role, status, created_at) VALUES 
('Dinesh', 'Sulakshana', 'dinesh@test.com', '+94 70 456 7890', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'customer', 'active', NOW());

INSERT INTO customer_profiles (user_id, district, sports, age_group, skill_level, created_at) VALUES 
(LAST_INSERT_ID(), 'Galle', 'cricket', '26_35', 'professional', NOW());

-- Insert test customer 4
INSERT INTO users (first_name, last_name, email, phone, password, role, status, created_at) VALUES 
('Kalana', 'Ekanayake', 'kalana@test.com', '+94 76 567 8901', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'customer', 'active', NOW());

INSERT INTO customer_profiles (user_id, district, sports, age_group, skill_level, created_at) VALUES 
(LAST_INSERT_ID(), 'Negombo', 'basketball', '18_25', 'beginner', NOW());

-- Test credentials for login:
-- Email: customer@test.com, Password: customer123
-- Email: kulakshi@test.com, Password: customer123  
-- Email: dinesh@test.com, Password: customer123
-- Email: kalana@test.com, Password: customer123



Stadium Owner:
-- Add test stadium owner account
-- Password: owner123

INSERT INTO users (first_name, last_name, email, phone, password, role, status, created_at) VALUES 
('Stadium', 'Owner', 'owner@test.com', '+94 71 999 8888', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'stadium_owner', 'active', NOW());

-- Insert stadium owner profile (get the last inserted ID)
INSERT INTO stadium_owner_profiles (user_id, owner_name, business_name, district, venue_type, business_registration, created_at) VALUES 
(LAST_INSERT_ID(), 'John Stadium Owner', 'Premium Sports Complex', 'Colombo', 'sports_complex', 'BR123456789', NOW());

-- Test credentials:
-- Email: owner@test.com
-- Password:




Rental Owner Issue Fix:

-- Fix rental_owner_profiles table structure
DROP TABLE IF EXISTS rental_owner_profiles;

CREATE TABLE rental_owner_profiles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    owner_name VARCHAR(255) NOT NULL,
    business_name VARCHAR(255) NOT NULL,
    district VARCHAR(100) NOT NULL,
    business_type VARCHAR(100) NOT NULL,
    equipment_categories VARCHAR(255) NOT NULL,
    delivery_service ENUM('yes', 'no', 'conditional', 'paid') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);



coaches table issue fixing 
DROP TABLE IF EXISTS coach_profiles;

CREATE TABLE coach_profiles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    specialization VARCHAR(100) NOT NULL,
    experience ENUM('1_3', '4_6', '7_10', '11_15', '15_plus') NOT NULL,
    certification ENUM('none', 'basic', 'intermediate', 'advanced', 'professional', 'international') NOT NULL,
    coaching_type ENUM('individual', 'group', 'team', 'both', 'all') NOT NULL,
    district VARCHAR(100) NOT NULL,
    availability ENUM('full_time', 'part_time', 'weekends', 'evenings', 'flexible') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);


-- Emergency contacts minimal schema for current users table
-- Run this against your bookmyground database

SET FOREIGN_KEY_CHECKS = 0;

CREATE TABLE IF NOT EXISTS emergency_contacts (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT NOT NULL,
  contact_name VARCHAR(255) NOT NULL,
  relationship VARCHAR(100) NOT NULL,
  phone VARCHAR(50) NOT NULL,
  email VARCHAR(255) NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  CONSTRAINT fk_emergency_contacts_user
    FOREIGN KEY (user_id) REFERENCES users(id)
    ON DELETE CASCADE
    ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

SET FOREIGN_KEY_CHECKS = 1;






------------kalana sql tables--------
--coach card details--

-- Create coach_card_details table to store extended coach profile info (bio, training style, languages, achievements, awards, availability text, hourly rate)
CREATE TABLE IF NOT EXISTS coach_card_details (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    bio TEXT,
    training_style TEXT,
    languages VARCHAR(255), -- comma-separated list (e.g. 'Sinhala,English')
    achievements TEXT,
    awards TEXT,
    availability_text VARCHAR(255), -- human readable availability description
    hourly_rate DECIMAL(10,2) DEFAULT 0.00,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT fk_coach_card_user FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;






--coach free training session--

-- Create coach_free_training table to store coaches' free training session slots
CREATE TABLE IF NOT EXISTS coach_free_training (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    day ENUM('Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday') NOT NULL,
    time_slot VARCHAR(100) NOT NULL, -- e.g. '4:00 PM - 5:00 PM'
    session_type VARCHAR(100) NOT NULL, -- e.g. 'Group Session'
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT fk_coach_free_training_user FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;



--Kulakshi Stadium Listing Crud Operation--

ALTER TABLE stadiums
ADD COLUMN contact_person varchar(255) DEFAULT NULL,
ADD COLUMN whatsapp_number varchar(255) DEFAULT NULL,
ADD COLUMN cancellation_policy varchar(255) DEFAULT NULL,
ADD COLUMN special_instructions varchar(255) DEFAULT NULL,
ADD COLUMN district varchar(255) DEFAULT NULL,
ADD COLUMN postal_code varchar(255) DEFAULT NULL,
ADD COLUMN description text DEFAULT NULL,
ADD COLUMN opening_hours varchar(255) DEFAULT NULL,
ADD COLUMN advance_booking varchar(255) DEFAULT NULL,
ADD COLUMN minimum_duration varchar(255) DEFAULT NULL,
ADD COLUMN contact_phone varchar(255) DEFAULT NULL,
ADD COLUMN total_bookings varchar(255) DEFAULT NULL,
ADD COLUMN monthly_revenue varchar(255) DEFAULT NULL,
ADD COLUMN contact_email varchar(255) DEFAULT NULL;